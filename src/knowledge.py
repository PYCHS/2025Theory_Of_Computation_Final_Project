# src/knowledge.py

def get_gottman_info():
    return """
### 🛡️ 模型二：Gottman 末日四騎士 (The Four Horsemen)
這是由心理學家 John Gottman 提出的四種預測關係破裂的危險溝通模式：

1. **⚔️ 批評 (Criticism)**
    - 📖 **定義**：這不只是抱怨具體事件，而是針對伴侶性格的全面攻擊（對人不對事）。
    - 💬 **例子**：「你真的**很自私**，只在乎你自己，從來沒考慮過我！」
    - ⚠️ **嚴重性**：它是衝突的開端，會讓對方感到被拒絕和受傷。
    - ✅ **解藥**：**溫柔的開始**。使用「我訊息」描述感受與需求。

2. **😒 輕蔑 (Contempt)**
    - 📖 **定義**：覺得自己高人一等，透過諷刺、惡意嘲笑、模仿或翻白眼來貶低對方。
    - 💬 **例子**：「喔，你好累喔？真是可憐。（翻白眼）我照顧小孩一整天都沒喊累，你算什麼？」
    - ⚠️ **嚴重性**：**最致命的騎士**。預測離婚的最準確指標。
    - ✅ **解藥**：**建立欣賞的文化**。每天找出對方值得讚賞的小事。

3. **🛡️ 防衛 (Defensiveness)**
    - 📖 **定義**：面對批評時，急著否認、找藉口、扮演受害者或反擊回去。
    - 💬 **例子**：「我沒洗碗是因為我很忙好嗎！你昨天不也沒倒垃圾？」
    - ⚠️ **嚴重性**：阻礙問題解決，讓衝突變成「互丟泥巴」。
    - ✅ **解藥**：**承擔責任**。承認自己哪怕只有一小部分的責任。

4. **🧱 築高牆 (Stonewalling)**
    - 📖 **定義**：在互動中完全撤退，拒絕溝通。不回應、轉身離開或假裝忙碌。
    - 💬 **例子**：當伴侶在說話時，盯著手機一言不發，或直接走出房間甩上門。
    - ⚠️ **嚴重性**：通常發生在情緒過度淹沒之後，會讓另一方更焦慮。
    - ✅ **解藥**：**自我安撫**。暫時喊停，休息 20 分鐘讓情緒冷靜。
"""

def get_attachment_info():
    return """
### 🧬 模型一：依附理論 (Attachment Theory)
這解釋了我們如何在親密關係中尋找安全感：

1. **🟢 安全型依附 (Secure)**
    - ✨ **特徵**：相信自己值得被愛，也信任伴侶。情緒穩定，既能享受親密，也能接受獨處。
    - 💬 **例子**：「我這幾天比較忙，可能回訊息慢一點，但我還是很愛你喔。」
    - ❤️ **應對**：持續保持開放溝通，建立深層信任。

2. **🟡 焦慮型依附 (Anxious)**
    - ✨ **特徵**：極度渴望親密，但內心深處擔心被拋棄。對伴侶的情緒變化非常敏感。
    - 💬 **例子**：「你為什麼兩小時沒回我？是不是覺得我很煩？你還愛我嗎？」
    - ❤️ **應對**：需要**頻繁且一致的情感確認**，適時告訴他們「我在這裡」。

3. **🔵 迴避型依附 (Avoidant)**
    - ✨ **特徵**：將「獨立」視為最高價值，害怕過度親密會失去自我。遇到衝突傾向逃避。
    - 💬 **例子**：突然消失好幾天，或者說「我需要空間」、「你太情緒化了」。
    - ❤️ **應對**：需要**個人空間與尊重**，避免讓他們感到被情緒勒索。

4. **🔴 混亂型依附 (Disorganized)**
    - ✨ **特徵**：既想靠近又害怕受傷，行為矛盾反覆。通常源於過去的創傷經驗。
    - 💬 **例子**：前一刻很黏人說「不要離開我」，下一刻又推開對方說「我不值得被愛」。
    - ❤️ **應對**：建立**穩定且界線清晰**的環境，建議尋求專業諮商協助。
"""

def get_concept_guide():
    return "# ❤️ 情感關係心理學分析報告 ❤️\n" + \
           "> 在閱讀您的專屬分析報告之前，請先花 1 分鐘了解我們使用的分析模型，這能幫助您更清楚自己的處境。\n" + \
           get_attachment_info() + \
           "\n" + \
           get_gottman_info() + \
           "\n" + "="*60 + "\n"